/*
 * Copyright (c) 2016, DF Automation & Robotics Sdn. Bhd.
 * All rights reserved.
 *
 * Author: Patrick Chin
 */

var defsSvg =
  /* Scene: in unit meter */
  `
<g id="agv05">
  <!-- size: 1.20m x 0.55m -->
  <path d="M 0.250 -0.430 V 0.120 L 0.130 0.170 H -0.130 L -0.250 0.120 V -0.430 L -0.130 -0.480 H 0.130 L 0.250 -0.430 M 0.250 -0.290 H -0.250 M -0.170 -0.070 V 0.070 H -0.210 V -0.070 H -0.170 M 0.210 -0.070 V 0.070 H 0.170 V -0.070 H 0.210"></path>
</g>
<pattern id="grid-1cm-pattern" patternUnits="userSpaceOnUse" width="0.01" height="0.01" x="0.005" y="0.005">
  <line stroke-width="0.001" x1="0.0044" x2="0.0056" y1="0.005" y2="0.005"></line>
  <line stroke-width="0.001" x1="0.005" x2="0.005" y1="0.0044" y2="0.0056"></line>
</pattern>
<pattern id="grid-5cm-pattern" patternUnits="userSpaceOnUse" width="0.05" height="0.05" x="0.025" y="0.025">
  <line stroke-width="0.003" x1="0.022" x2="0.028" y1="0.025" y2="0.025"></line>
  <line stroke-width="0.003" x1="0.025" x2="0.025" y1="0.022" y2="0.028"></line>
</pattern>
<pattern id="grid-small-pattern" patternUnits="userSpaceOnUse" width="0.2" height="0.2" x="0.1" y="0.1">
  <line stroke-width="0.01" x1="0.088" x2="0.112" y1="0.1" y2="0.1"></line>
  <line stroke-width="0.01" x1="0.1" x2="0.1" y1="0.088" y2="0.112"></line>
</pattern>
<pattern id="grid-pattern" patternUnits="userSpaceOnUse" width="1.0" height="1.0" x="0.5" y="0.5">
  <line stroke-width="0.04" x1="0.44" x2="0.56" y1="0.5" y2="0.5"></line>
  <line stroke-width="0.04" x1="0.5" x2="0.5" y1="0.44" y2="0.56"></line>
</pattern>
<g id="landmark">
  <circle r="0.08"></circle>
  <path d="M 0,.06 C 0,.02 .02,0 .06,0 .02,0 0,-.02 0,-.06 0,-.02 -.02,0 -.06,0 -.02,0 0,.02 0,.06 Z" fill="white" stroke="none"></path>
</g>
<g id="junction">
  <circle r="0.06"></circle>
</g>
<g id="bezier-cp">
  <rect x="-0.03" y="-0.03" width="0.06" height="0.06"></rect>
</g>
<g id="station">
  <path d="M 0.45,0 L 0.282843,0.1 A 0.3,0.3,0,0,0,0.282843,-0.1 Z" stroke="currentColor" fill="currentColor"></path>
  <circle r="0.3"></circle>
</g>
<g id="station-headless">
  <circle r="0.3"></circle>
</g>
<g id="ruler-endpoint">
  <circle r="0.036"></circle>
</g>
<g id="particle">
  <polygon points="-0.01,0.014 0,0 -0.01,-0.014 0.02,0" fill="currentColor"></polygon>
</g>` +
  /* Icon Annotation */
  `
  <g id="lift" width="75" height="100" transform="scale(0.01) translate(50,37.5) rotate(90) scale(-1, 1)">
    <path d="M12 20 L22 10 L32 20 Z"/>
    <path d="M43 10 L53 20 L63 10 Z"/>
    <path d="M5 25 L5 85 L37.5 85 L37.5 25Z M37.5 25 L37.5 85 L70 85 L70 25Z"
      style="fill:none;stroke-width:4;stroke-dasharray:none"/>
  </g>
  <!-- Source: https://www.svgrepo.com -->
  <g id="robotarm" width="75" height="100" transform="scale(0.002) translate(200,230) rotate(90) scale(-1, 1)"
      style="fill:none;stroke-width:20;stroke-dasharray:none">
    <circle cx="288.00" cy="80.31" r="64.33" />
    <circle cx="137.44" cy="255.10" r="64.33" />
    <path d="m 350.02,317.39 v -54.38 c 0,0 -1.98,-37.57 44.49,-38.56 42.52,0.99 43.51,35.60 43.51,35.60 v 56.36" />
    <path d="m 325.30,132.49 70.20,97.89" />
    <path d="m 280.81,144.34 -85.03,89.98" />
    <path d="M 224.49,83.01 125.53,190.83" />
    <path d="m 197.75,279.82 140.49,151.28" />
    <path d="M 118.61,315.42 225.53,429.12" />
    <rect width="305.53" height="62.29"
      x="74.16" y="430.11" />
  </g>
  <g id="conveyor" width="100" height="100" transform="scale(0.002) translate(200,257) rotate(90) scale(-1, 1)">
   <path d="M349.87,204.802h68.267c4.713,0,8.533-3.82,8.533-8.533v-51.2c0-4.713-3.82-8.533-8.533-8.533H349.87 c-4.713,0-8.533,3.82-8.533,8.533v51.2C341.337,200.981,345.157,204.802,349.87,204.802z M358.403,153.602h51.2v34.133h-51.2 V153.602z"/>
   <path d="M204.803,51.202h-102.4c-4.713,0-8.533,3.82-8.533,8.533v68.267c0,4.713,3.82,8.533,8.533,8.533h102.4 c4.713,0,8.533-3.82,8.533-8.533V59.735C213.337,55.022,209.516,51.202,204.803,51.202z M196.27,119.468h-85.333v-51.2h85.333 V119.468z"/>
   <path d="M85.337,358.402c14.142,0,25.6-11.458,25.6-25.6c0-14.142-11.458-25.6-25.6-25.6c-14.142,0-25.6,11.458-25.6,25.6 C59.737,346.944,71.195,358.402,85.337,358.402z M85.337,324.268c4.717,0,8.533,3.817,8.533,8.533 c0,4.717-3.817,8.533-8.533,8.533c-4.716,0-8.533-3.817-8.533-8.533C76.803,328.085,80.62,324.268,85.337,324.268z"/>
   <path d="M153.603,358.402c14.142,0,25.6-11.458,25.6-25.6c0-14.142-11.458-25.6-25.6-25.6c-14.142,0-25.6,11.458-25.6,25.6 C128.003,346.944,139.461,358.402,153.603,358.402z M153.603,324.268c4.716,0,8.533,3.817,8.533,8.533 c0,4.717-3.817,8.533-8.533,8.533c-4.717,0-8.533-3.817-8.533-8.533C145.07,328.085,148.887,324.268,153.603,324.268z"/>
   <path d="M221.87,358.402c14.142,0,25.6-11.458,25.6-25.6c0-14.142-11.458-25.6-25.6-25.6s-25.6,11.458-25.6,25.6 C196.27,346.944,207.728,358.402,221.87,358.402z M221.87,324.268c4.716,0,8.533,3.817,8.533,8.533 c0,4.717-3.817,8.533-8.533,8.533c-4.717,0-8.533-3.817-8.533-8.533C213.337,328.085,217.154,324.268,221.87,324.268z"/>
   <path d="M290.137,358.402c14.142,0,25.6-11.458,25.6-25.6c0-14.142-11.458-25.6-25.6-25.6s-25.6,11.458-25.6,25.6 C264.537,346.944,275.995,358.402,290.137,358.402z M290.137,324.268c4.716,0,8.533,3.817,8.533,8.533 c0,4.717-3.817,8.533-8.533,8.533s-8.533-3.817-8.533-8.533C281.603,328.085,285.42,324.268,290.137,324.268z"/>
   <path d="M358.403,358.402c14.142,0,25.6-11.458,25.6-25.6c0-14.142-11.458-25.6-25.6-25.6s-25.6,11.458-25.6,25.6 C332.803,346.944,344.261,358.402,358.403,358.402z M358.403,324.268c4.716,0,8.533,3.817,8.533,8.533 c0,4.717-3.817,8.533-8.533,8.533s-8.533-3.817-8.533-8.533C349.87,328.085,353.687,324.268,358.403,324.268z"/>
   <path d="M426.67,358.402c14.142,0,25.6-11.458,25.6-25.6c0-14.142-11.458-25.6-25.6-25.6s-25.6,11.458-25.6,25.6 C401.07,346.944,412.528,358.402,426.67,358.402z M426.67,324.268c4.716,0,8.533,3.817,8.533,8.533 c0,4.717-3.817,8.533-8.533,8.533s-8.533-3.817-8.533-8.533C418.137,328.085,421.954,324.268,426.67,324.268z"/>
   <path d="M503.47,494.935h-17.067v-102.4h5.39c11.162,0,20.207-9.049,20.207-20.207v-79.053c0-10.086-7.399-18.425-17.063-19.938 v-30.306c0-11.685-9.478-21.163-21.163-21.163h-4.437V59.735c0-14.142-11.458-25.6-25.6-25.6h-179.2v-8.533 c0-14.142-11.458-25.6-25.6-25.6H68.27c-14.142,0-25.6,11.458-25.6,25.6v196.267h-4.437c-11.685,0-21.163,9.478-21.163,21.163 v30.306C7.405,274.852,0,283.19,0,293.275v79.053c0,11.158,9.054,20.207,20.215,20.207h5.388v102.4H8.537 c-4.713,0-8.533,3.82-8.533,8.533s3.82,8.533,8.533,8.533h25.6h51.2H426.67h51.2h25.6c4.713,0,8.533-3.82,8.533-8.533 S508.183,494.935,503.47,494.935z M443.737,51.202c4.717,0,8.533,3.817,8.533,8.533v162.133H264.537V51.202H443.737z M59.737,25.602c0-4.716,3.817-8.533,8.533-8.533h170.667c4.716,0,8.533,3.817,8.533,8.533v17.067v179.2H59.737V25.602z M34.137,243.031c0-2.259,1.837-4.096,4.096-4.096h12.971h204.8h204.8h12.971c2.259,0,4.096,1.837,4.096,4.096v30.037H34.137 V243.031z M17.067,372.328v-79.053c0-1.73,1.411-3.14,3.149-3.14h5.388h460.8h5.39c1.734,0,3.14,1.406,3.14,3.14v79.053 c0,1.734-1.406,3.14-3.14,3.14H477.87h-51.2H85.337h-51.2H20.215C18.477,375.468,17.067,374.058,17.067,372.328z M418.137,392.535v102.4H93.87v-102.4H418.137z M42.67,494.935v-102.4h34.133v102.4H42.67z M435.203,494.935v-102.4h34.133v102.4 H435.203z"/>
  </g>
` +
  /* HUD: in unit pixels */
  `
<g id="mini-axis">
  <path d="M 0 0 H 20 V -20 M 4 3 L 0 0 L 4 -3 M 17 -16 L 20 -20 L 23 -16"></path>
  <text x="20" y="-25">x</text>
  <text x="-5" y="1">y</text>
</g>
<g id="zoom-in" style="font-family: 'Font Awesome 6 Free'"><text>&#xf00e;</text></g>
<g id="zoom-out" style="font-family: 'Font Awesome 6 Free'"><text>&#xf010;</text></g>
<g id="focus-toggle" style="font-family: 'Font Awesome 6 Free'"><text fill="currentColor">&#xf140;</text></g>
<g id="costmap-toggle" style="font-family: 'Font Awesome 6 Free'"><text fill="currentColor">&#xf03e;</text></g>
<g id="annotation-toggle" style="font-family: 'Font Awesome 6 Free'"><text fill="currentColor">&#xf27a;</text></g>
<marker id="arrow" viewBox="0 0 10 10" refX="10" refY="5" markerWidth="8" markerHeight="8" orient="auto-start-reverse">
  <path d="M 0 0 L 10 5 L 0 10 z" fill="currentColor"></path>
</marker>
`;

export default function (viz) {
  viz.append('defs').html(defsSvg);
}
